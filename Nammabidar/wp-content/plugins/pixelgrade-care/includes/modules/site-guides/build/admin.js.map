{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/extends.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///./src/templates/admin.js","webpack:///./src/templates/admin.scss?8f24","webpack:///./src/templates/guide.js","webpack:///external [\"wp\",\"components\"]","webpack:///external [\"wp\",\"element\"]"],"names":["SiteGuideInWPDashboard","isBlockEditor","document","body","className","indexOf","pixcareSiteGuides","guides","Object","keys","length","useState","isOpen","setOpen","siteGuideId","setSiteGuideId","shownSiteGuidesIds","JSON","parse","localStorage","getItem","useEffect","autoOpenSiteGuideId","guidesIds","i","guideId","auto_open","includes","siteGuideLinks","querySelectorAll","forEach","link","addEventListener","e","currentTarget","getAttribute","push","setItem","stringify","popup","createElement","appendChild","render","SiteGuide","props","containerClasses","pages","custom_css","container_classes","join","map","page","index","image","content","__html","label","finish_button_label"],"mappings":"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","file":"admin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/templates/admin.js\");\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _extends() {\n  module.exports = _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import { Fragment, render, useEffect, useState } from '@wordpress/element';\nimport './admin.scss';\nimport Guide from './guide';\n\n/**\n * Determine whether to show a site guide in the rest of the WordPress Admin.\n */\nconst SiteGuideInWPDashboard = () => {\n\n\tconst isBlockEditor = document.body.className.indexOf( 'block-editor-page' ) > -1;\n\n\tif ( isBlockEditor || typeof pixcareSiteGuides === 'undefined' || typeof pixcareSiteGuides.guides === 'undefined' ) {\n\t\treturn null;\n\t}\n\n\tconst guides = pixcareSiteGuides.guides;\n\tif ( ! Object.keys(guides).length ) {\n\t\treturn null;\n\t}\n\n\tconst [ isOpen, setOpen ] = useState( false );\n\tconst [ siteGuideId, setSiteGuideId ] = useState();\n\n\t// We need to determine if there is a site guide to autoshow.\n\tconst shownSiteGuidesIds = JSON.parse( localStorage.getItem('pixcare_siteGuidesShownIds' ) ) || [];\n\n\tuseEffect(() => {\n\t\t// Determine if we should auto-open a guide.\n\t\tlet autoOpenSiteGuideId = false;\n\t\tconst guidesIds = Object.keys( guides );\n\t\tfor ( let i = 0; i < guidesIds.length; i++ ) {\n\t\t\tconst guideId = guidesIds[i];\n\n\t\t\tif ( guides[guideId].auto_open && ! shownSiteGuidesIds.includes(guideId) ) {\n\t\t\t\tautoOpenSiteGuideId = guideId;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif ( false !== autoOpenSiteGuideId ) {\n\t\t\tsetOpen(true);\n\t\t\tsetSiteGuideId( autoOpenSiteGuideId );\n\t\t}\n\t}, [guides] );\n\n\tconst siteGuideLinks = document.querySelectorAll('.pixcare-site-guide-link');\n\tsiteGuideLinks.forEach( function( link ) {\n\t\tlink.addEventListener( 'click', (e) => {\n\t\t\tsetOpen(true);\n\t\t\tsetSiteGuideId( e.currentTarget.getAttribute('data-siteguideid') );\n\t\t})\n\t});\n\n\treturn (\n\t\t<Fragment>\n\t\t\t{isOpen && <Guide\n\t\t\t\tonFinish={() => {\n\t\t\t\t\tsetOpen( false );\n\n\t\t\t\t\tif ( -1 === shownSiteGuidesIds.indexOf( siteGuideId ) ) {\n\t\t\t\t\t\tshownSiteGuidesIds.push( siteGuideId );\n\t\t\t\t\t\tlocalStorage.setItem( 'pixcare_siteGuidesShownIds', JSON.stringify( shownSiteGuidesIds ) );\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tsiteGuideId={siteGuideId}\n\t\t\t/>}\n\t\t</Fragment>\n\t);\n};\n\ndocument.addEventListener( 'DOMContentLoaded', () => {\n\tconst popup = document.createElement( 'div' );\n\tconst body = document.body.appendChild( popup );\n\tif ( body ) {\n\t\trender(\n\t\t\t<SiteGuideInWPDashboard/>,\n\t\t\tbody\n\t\t);\n\t}\n} );\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * Template for displaying a Site Guide\n */\n\nimport { Guide } from '@wordpress/components';\n\nconst SiteGuide = ( props ) => {\n\tconst guides = pixcareSiteGuides.guides;\n\tconst { siteGuideId } = props;\n\tlet containerClasses = \"pixcare-site-guide\";\n\tif ( typeof guides[siteGuideId] !== 'undefined' && guides[siteGuideId].pages.length === 1 ) {\n\t\tcontainerClasses += ' single-page';\n\t}\n\n\treturn (\n\t\ttypeof guides[siteGuideId] !== 'undefined' &&\n\t\t<>\n\t\t\t{!!guides[siteGuideId].custom_css && <style>{guides[siteGuideId].custom_css}</style>}\n\t\t\t<Guide {...props}\n\t\t\t\t   className={ containerClasses + ' ' + guides[siteGuideId]?.container_classes.join(' ') }\n\t\t\t\t   pages={guides[siteGuideId].pages.map( ( page, index ) => (\n\t\t\t\t\t   {\n\t\t\t\t\t\t   image: page.image ? <div className=\"site-guide-image\"><img src={page.image} alt={ \"Site guide #\"+index+\"page image\"} /></div> : '',\n\t\t\t\t\t\t   content: (\n\t\t\t\t\t\t\t   <div\n\t\t\t\t\t\t\t\t   className=\"site-guide-content\"\n\t\t\t\t\t\t\t\t   dangerouslySetInnerHTML={{ __html: page.content }}/>\n\t\t\t\t\t\t   )\n\t\t\t\t\t   }\n\t\t\t\t   ) )\n\t\t\t\t   }\n\t\t\t\t   contentLabel={guides[siteGuideId].label}\n\t\t\t\t   finishButtonText={guides[siteGuideId].finish_button_label}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default SiteGuide;\n","(function() { module.exports = window[\"wp\"][\"components\"]; }());","(function() { module.exports = window[\"wp\"][\"element\"]; }());"],"sourceRoot":""}